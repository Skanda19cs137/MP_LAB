; TO DISPLAY SYSTEM TIME IN STANDARD FORMAT
.MODEL SMALL
DISPLAY MACRO MSG
LEA DX,MSG
MOV AH,09H
INT 21H
ENDM

.DATA
TIMESTR DB 020H DUP(?)
MSG1 DB "CURRENT TIME :: $"

.CODE
START: 
MOV AX,@DATA
MOV DS,AX

;CLEAR SCREEN
MOV AH,00H
MOV AL,03H
INT 10H

AG:
;SET PARTICULAR LOCATION FOR THE CLOCK
MOV BH,00H
MOV DH,01H
MOV DL,01H
MOV AH,02H
INT 10H

MOV SI,OFFSET TIMESTR
MOV AH,2CH ;INTERRUPT FOR GETTING SYSTEM TIME
INT 21H

MOV AL,CH ;CH-HOUR CL-MIN DH-SEC
AAM
ADD AX,3030H
MOV [SI],AH
INC SI
MOV [SI],AL
INC SI
MOV [SI],BYTE PTR':'
INC SI

MOV AL,CL ;CH-HOUR CL-MIN DH-SEC
AAM
ADD AX,3030H
MOV [SI],AH
INC SI
MOV [SI],AL
INC SI
MOV [SI],BYTE PTR':'
INC SI

MOV AL,DH ;CH-HOUR CL-MIN DH-SEC
AAM
ADD AX,3030H
MOV [SI],AH
INC SI
MOV [SI],AL
INC SI
MOV [SI],BYTE PTR'$'

DISPLAY MSG1
DISPLAY TIMESTR

;CHECK FOR KEYBOARD STATUS
;IF KEY IS PRESSED, TERMINATE THE PROGRAM
MOV AH,0BH
INT 21H
CMP AL,00H
JE AG

FINAL:
MOV AH,4CH
INT 21H

END START
